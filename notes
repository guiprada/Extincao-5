----------------- TODO
- implementar NEAT
	- option to add aumentating neurons and links with fixed(0.5 or 1) weight(disturb less the genome's functionality)
	- should links be reactivate on crossover?
	- speciation
	- remove unused neurons from fenotype

- implementar funcoes que nao usam "self" para AutoplayerAnnModes.lua
- implementar gameplay data capture and offline learning
- implementar teste com o dataset mnist

- NEAT para fantasmas

- implementar load and save population
- adicionar suporte a elitismo
- Add map and population loading
- add the pheromone thingy :)

----------------- DONE
- implementar NEAT
	- verificar se o link ja existe
- split population_size and _history size
- Very simple, look at front and rotate_left(or rotate_right)

----------------- CORRUPTED
1671132502 B2
1670698681 B3
1667082412 NB4


----------------- TESTS
1-----------------------------------------
ghost_chase_time = 5
ghost_scatter_time = 2
ghost_speed_factor = 10

headless = false
__ghost_target_spread = 5
__ghost_population = 0
__ghost_active_population = 2
ghost_population_target_offset_array = {4, -5}

autoplayer_neat_enable = true
autoplayer_neat_speciate = true
autoplayer_neat_initial_links  = false
autoplayer_neat_fully_connected = true
autoplayer_neat_mule_chance = 0
autoplayer_neat_add_neuron_chance = 0.05
autoplayer_neat_add_link_chance = 0.05
autoplayer_neat_loopback_link_chance = 0.05

autoplayer_ann_mode = b1
autoplayer_ann_layers = {{count = 12, activation_function_name = "relu"}, {activation_function_name = "relu"}, {count = 1, activation_function_name = "binary_step"}}
__autoplayer_ann_initial_bias = 0
__autoplayer_ann_initial_weights = 0
__autoplayer_ann_random_spread = 1
autoplayer_fitness_mode = updates
__autoplayer_collision_purge = false
__autoplayer_rotate_purge = false
autoplayer_population = 5000
autoplayer_active_population = 1
autoplayer_genetic_population = 100
__autoplayer_ann_backpropagation = false
__autoplayer_ann_learning_rate = 0.1
autoplayer_crossover = true
autoplayer_mutate_chance = 0.05
autoplayer_mutate_percentage = 0.05
autoplayer_speed_factor = 10
autoplayer_search_path_length = 5

pill_effect_time = 3
pill_active_population = 2

2-----------------------------------------
ghost_chase_time = 5
ghost_scatter_time = 2
ghost_speed_factor = 10

headless = false
__ghost_target_spread = 5
__ghost_population = 0
__ghost_active_population = 2
ghost_population_target_offset_array = {4, -5}

autoplayer_neat_enable = true
autoplayer_neat_speciate = true
autoplayer_neat_initial_links  = false
autoplayer_neat_fully_connected = true
autoplayer_neat_mule_chance = 0
autoplayer_neat_add_neuron_chance = 0.05
autoplayer_neat_add_link_chance = 0.05
autoplayer_neat_loopback_link_chance = 0.05

autoplayer_ann_mode = b1_path_grading_hack
autoplayer_ann_layers = {{count = 4, activation_function_name = "relu"}, {activation_function_name = "relu"}, {count = 1, activation_function_name = "binary_step"}}
__autoplayer_ann_initial_bias = 0
__autoplayer_ann_initial_weights = 0
__autoplayer_ann_random_spread = 1
autoplayer_fitness_mode = updates
__autoplayer_collision_purge = false
__autoplayer_rotate_purge = false
autoplayer_population = 5000
autoplayer_active_population = 1
autoplayer_genetic_population = 100
__autoplayer_ann_backpropagation = false
__autoplayer_ann_learning_rate = 0.1
autoplayer_crossover = true
autoplayer_mutate_chance = 0.05
autoplayer_mutate_percentage = 0.05
autoplayer_speed_factor = 10
autoplayer_search_path_length = 5

pill_effect_time = 3
pill_active_population = 2

3-----------------------------------------
ghost_chase_time = 5
ghost_scatter_time = 2
ghost_speed_factor = 10

headless = false
__ghost_target_spread = 5
__ghost_population = 0
__ghost_active_population = 2
ghost_population_target_offset_array = {4, -5}

autoplayer_neat_enable = true
autoplayer_neat_speciate = true
autoplayer_neat_initial_links  = false
autoplayer_neat_fully_connected = true
autoplayer_neat_mule_chance = 0
autoplayer_neat_add_neuron_chance = 0.05
autoplayer_neat_add_link_chance = 0.05
autoplayer_neat_loopback_link_chance = 0.05

autoplayer_ann_mode = b1_path_grading_simple
autoplayer_ann_layers = {{count = 4, activation_function_name = "relu"}, {activation_function_name = "relu"}, {count = 1, activation_function_name = "binary_step"}}
__autoplayer_ann_initial_bias = 0
__autoplayer_ann_initial_weights = 0
__autoplayer_ann_random_spread = 1
autoplayer_fitness_mode = updates
__autoplayer_collision_purge = false
__autoplayer_rotate_purge = false
autoplayer_population = 5000
autoplayer_active_population = 1
autoplayer_genetic_population = 100
__autoplayer_ann_backpropagation = false
__autoplayer_ann_learning_rate = 0.1
autoplayer_crossover = true
autoplayer_mutate_chance = 0.05
autoplayer_mutate_percentage = 0.05
autoplayer_speed_factor = 10
autoplayer_search_path_length = 5

pill_effect_time = 3
pill_active_population = 2

4-----------------------------------------
ghost_chase_time = 5
ghost_scatter_time = 2
ghost_speed_factor = 10

headless = false
__ghost_target_spread = 5
__ghost_population = 0
__ghost_active_population = 2
ghost_population_target_offset_array = {4, -5}

autoplayer_neat_enable = true
autoplayer_neat_speciate = true
autoplayer_neat_initial_links  = false
autoplayer_neat_fully_connected = true
autoplayer_neat_mule_chance = 0
autoplayer_neat_add_neuron_chance = 0.05
autoplayer_neat_add_link_chance = 0.05
autoplayer_neat_loopback_link_chance = 0.05

autoplayer_ann_mode = b2
autoplayer_ann_layers = {{count = 12, activation_function_name = "relu"}, {activation_function_name = "relu"}, {count = 2, activation_function_name = "binary_step"}}
__autoplayer_ann_initial_bias = 0
__autoplayer_ann_initial_weights = 0
__autoplayer_ann_random_spread = 1
autoplayer_fitness_mode = updates
__autoplayer_collision_purge = false
__autoplayer_rotate_purge = false
autoplayer_population = 5000
autoplayer_active_population = 1
autoplayer_genetic_population = 100
__autoplayer_ann_backpropagation = false
__autoplayer_ann_learning_rate = 0.1
autoplayer_crossover = true
autoplayer_mutate_chance = 0.05
autoplayer_mutate_percentage = 0.05
autoplayer_speed_factor = 10
autoplayer_search_path_length = 5

pill_effect_time = 3
pill_active_population = 2

5-----------------------------------------
ghost_chase_time = 5
ghost_scatter_time = 2
ghost_speed_factor = 10

headless = false
__ghost_target_spread = 5
__ghost_population = 0
__ghost_active_population = 2
ghost_population_target_offset_array = {4, -5}

autoplayer_neat_enable = true
autoplayer_neat_speciate = true
autoplayer_neat_initial_links  = false
autoplayer_neat_fully_connected = true
autoplayer_neat_mule_chance = 0
autoplayer_neat_add_neuron_chance = 0.05
autoplayer_neat_add_link_chance = 0.05
autoplayer_neat_loopback_link_chance = 0.05

autoplayer_ann_mode = b3
autoplayer_ann_layers = {{count = 12, activation_function_name = "relu"}, {activation_function_name = "relu"}, {count = 1, activation_function_name = "binary_step"}}
__autoplayer_ann_initial_bias = 0
__autoplayer_ann_initial_weights = 0
__autoplayer_ann_random_spread = 1
autoplayer_fitness_mode = updates
__autoplayer_collision_purge = false
__autoplayer_rotate_purge = false
autoplayer_population = 5000
autoplayer_active_population = 1
autoplayer_genetic_population = 100
__autoplayer_ann_backpropagation = false
__autoplayer_ann_learning_rate = 0.1
autoplayer_crossover = true
autoplayer_mutate_chance = 0.05
autoplayer_mutate_percentage = 0.05
autoplayer_speed_factor = 10
autoplayer_search_path_length = 5

pill_effect_time = 3
pill_active_population = 2

6-----------------------------------------
ghost_chase_time = 5
ghost_scatter_time = 2
ghost_speed_factor = 10

headless = false
__ghost_target_spread = 5
__ghost_population = 0
__ghost_active_population = 2
ghost_population_target_offset_array = {4, -5}

autoplayer_neat_enable = true
autoplayer_neat_speciate = true
autoplayer_neat_initial_links  = false
autoplayer_neat_fully_connected = true
autoplayer_neat_mule_chance = 0
autoplayer_neat_add_neuron_chance = 0.05
autoplayer_neat_add_link_chance = 0.05
autoplayer_neat_loopback_link_chance = 0.05

autoplayer_ann_mode = nb4
autoplayer_ann_layers = {{count = 12, activation_function_name = "relu"}, {activation_function_name = "relu"}, {count = 4, activation_function_name = "identity"}}
__autoplayer_ann_initial_bias = 0
__autoplayer_ann_initial_weights = 0
__autoplayer_ann_random_spread = 1
autoplayer_fitness_mode = updates
__autoplayer_collision_purge = false
__autoplayer_rotate_purge = false
autoplayer_population = 5000
autoplayer_active_population = 1
autoplayer_genetic_population = 100
__autoplayer_ann_backpropagation = false
__autoplayer_ann_learning_rate = 0.1
autoplayer_crossover = true
autoplayer_mutate_chance = 0.05
autoplayer_mutate_percentage = 0.05
autoplayer_speed_factor = 10
autoplayer_search_path_length = 5

pill_effect_time = 3
pill_active_population = 2


7-----------------------------------------
ghost_chase_time = 5
ghost_scatter_time = 2
ghost_speed_factor = 10

headless = false
__ghost_target_spread = 5
__ghost_population = 0
__ghost_active_population = 2
ghost_population_target_offset_array = {4, -5}

autoplayer_neat_enable = true
autoplayer_neat_speciate = true
autoplayer_neat_initial_links  = false
autoplayer_neat_fully_connected = true
autoplayer_neat_mule_chance = 0
autoplayer_neat_add_neuron_chance = 0.05
autoplayer_neat_add_link_chance = 0.05
autoplayer_neat_loopback_link_chance = 0.05

autoplayer_ann_mode = nb4_path_grading
autoplayer_ann_layers = {{count = 4, activation_function_name = "relu"}, {activation_function_name = "relu"}, {count = 1, activation_function_name = "identity"}}
__autoplayer_ann_initial_bias = 0
__autoplayer_ann_initial_weights = 0
__autoplayer_ann_random_spread = 1
autoplayer_fitness_mode = updates
__autoplayer_collision_purge = false
__autoplayer_rotate_purge = false
autoplayer_population = 5000
autoplayer_active_population = 1
autoplayer_genetic_population = 100
__autoplayer_ann_backpropagation = false
__autoplayer_ann_learning_rate = 0.1
autoplayer_crossover = true
autoplayer_mutate_chance = 0.05
autoplayer_mutate_percentage = 0.05
autoplayer_speed_factor = 10
autoplayer_search_path_length = 5

pill_effect_time = 3
pill_active_population = 2

8-----------------------------------------


-----------------------------------------
----------------- NOTES
** to adapt this to ghosts we could get a next position only when out of corridors **
** should mutation be only  for greater amplitude?(since crossover always diminishes it) **

- BASELINE, um algoritmo especialista que foge quando vulnerável e ataca quando oportuno, mas não sai da rota para procurar pilulas ou fantasmas.
- BASELINE_PILL, um algoritmo especialista que foge quando vulnerável e ataca quando oportuno, desvia da rota para procurar pilulas mas não para fantasmas.
- BASELINE_PILL_GHOST, um algoritmo especialista que foge quando vulnerável e ataca quando oportuno, desvia da rota para procurar pilulas e capturar fantasmas.
- BASELINE_RANDOM, um algoritmo especialista que foge quando vulnerável e ataca quando oportuno, caso a rota atual seja ruim, assume uma outra rota aleatoriamente.
- BASELINE_COLLIDE_RANDOM, um algoritmo especialista caso tenha ocorrido uma colisão, assume uma outra rota aleatoriamente.
- BASELINE_FULL_RANDOM, um algoritmo especialista que, assume uma outra rota aleatoriamente.
- BASELINE_VALID_RANDOM, um algoritmo especialista que foge quando vulnerável e ataca quando oportuno, caso a rota atual seja ruim, assume uma outra rota válida aleatoriamente.
- BASELINE_VALID_FULL_RANDOM, um algoritmo especialista que, assume uma outra rota válida aleatoriamente.

---
ghost_chase_time = 5
ghost_scatter_time = 2
ghost_speed_factor = 10

headless = false
ghost_target_spread = 0
ghost_population = 0
ghost_active_population = 0

autoplayer_ann_mode = ...
autoplayer_ann_layers = ...
__autoplayer_ann_initial_weights = 0
autoplayer_fitness_mode = no_pill_updates
autoplayer_collision_purge = true
autoplayer_rotate_purge = true
autoplayer_population = 100
autoplayer_active_population = 1
autoplayer_ann_backpropagation = false
__autoplayer_ann_learning_rate = 0.1
autoplayer_crossover = true
autoplayer_mutate_chance = 0.1
autoplayer_mutate_percentage = 0.05
autoplayer_speed_factor = 10
autoplayer_search_path_length = 5

pill_effect_time = 3
pill_active_population = 0

---base test
ghost_chase_time = 5
ghost_scatter_time = 2
ghost_speed_factor = 10

headless = true
ghost_target_spread = 0
ghost_population = 0
ghost_active_population = 2

autoplayer_ann_mode = baseline_valid_full_random
autoplayer_fitness_mode = movement
autoplayer_population = 0
autoplayer_active_population = 1
autoplayer_speed_factor = 10
autoplayer_search_path_length = 5

pill_effect_time = 3
pill_active_population = 2
--
